{"version":3,"file":"static/js/736.a2d76c4d.chunk.js","mappings":"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","sources":["views/Patient/Index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Badge, Col, Container, Row } from 'react-bootstrap'\r\nimport { Card, Divider, message } from 'antd'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport axios from 'axios'\r\nimport { setBPAndW } from '../../features/bpAndW'\r\nconst Index = () => {\r\n  console.log('Patient Index rendered')\r\n  const patient = useSelector((state) => state.loggedInRoleUserData.loggedInRoleUserData)\r\n  const userDetails = useSelector((state) => state.bpAndW.bpAndW)\r\n  const [lastTwoVisits, setLastTwoVisits] = useState([])\r\n  const dispatch = useDispatch()\r\n\r\n  //eslint-disable-next-line\r\n  const getLastTwoVisits = async () => {\r\n    try {\r\n      console.log('fetching last two visits')\r\n      const patientId = await patient.uniqueId\r\n      const res = await axios.post('/api/v1/patient/patientLastTwoVisits', { patientId })\r\n      if (res.data.success) {\r\n        setLastTwoVisits(res.data.data)\r\n        console.log('fetching last two visits success')\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n      console.log('fetching last two visits error')\r\n    }\r\n  }\r\n  //eslint-disable-next-line\r\n  const getPatientWeightAndBloodPressure = async () => {\r\n    try {\r\n      console.count('fetching again')\r\n      const uniqueId = await patient.uniqueId\r\n      const res = await axios.post('/api/v1/patient/patientWeightAndBloodPressure', { uniqueId })\r\n      if (res.data.success) {\r\n        console.log('fetch success')\r\n        dispatch(setBPAndW(res.data.data))\r\n      }\r\n    } catch (error) {\r\n      console.log('fetch error')\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getLastTwoVisits()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!userDetails) {\r\n      getPatientWeightAndBloodPressure() // Fetch weight and blood pressure when userDetails is available\r\n    }\r\n  }, [userDetails, getPatientWeightAndBloodPressure])\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Row>\r\n          <Card title=\"Past Visit\">\r\n            <Card title=\"Last Two Visits\" className=\"shadow-sm mb-3\">\r\n              {lastTwoVisits.length > 0 ? (\r\n                lastTwoVisits.map((patient, idx) => (\r\n                  <>\r\n                    <Card className=\"border-0 mx-3\" key={idx}>\r\n                      <div>{patient.uniqueId}</div>\r\n                      <div>{patient.department}</div>\r\n                      <div className=\"d-flex justify-content-between\">\r\n                        <div>{patient.patientName}</div>\r\n                        <div></div>\r\n                        <div className=\"\">\r\n                          {patient.isChecked ? (\r\n                            <Badge bg=\"success\" pill>\r\n                              Checked\r\n                            </Badge>\r\n                          ) : (\r\n                            <Badge bg=\"warning\" pill>\r\n                              Pending\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n                    <Divider className=\"my-2\" />\r\n                  </>\r\n                ))\r\n              ) : (\r\n                <div>No visits</div>\r\n              )}\r\n            </Card>\r\n            <Row gutter={16}>\r\n              <Col span={8}>\r\n                <Card\r\n                  bordered={false}\r\n                  className={`${patient && patient.vaccinated ? 'bg-success' : 'bg-danger'}\r\n                  h1 d-flex justify-content-center align-items-center text-white`}\r\n                  style={{\r\n                    height: '7rem',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                >\r\n                  Vaccinated\r\n                </Card>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Card\r\n                  bordered={false}\r\n                  className=\"bg-primary text-white h1 d-flex justify-content-center align-items-center\"\r\n                  style={{\r\n                    height: '7rem',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                >\r\n                  <Link\r\n                    to=\"/patient-bills\"\r\n                    style={{\r\n                      textDecoration: 'none',\r\n                      color: 'white',\r\n                      whiteSpace: 'nowrap',\r\n                    }}\r\n                  >\r\n                    E-Prescription\r\n                  </Link>\r\n                </Card>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Card\r\n                  bordered={false}\r\n                  className=\"bg-black text-white d-flex justify-content-center\"\r\n                  style={{\r\n                    height: '7rem',\r\n                    fontSize: '1.1rem',\r\n                    textWrap: 'no-wrap',\r\n                    overflow: 'hidden',\r\n                    whiteSpace: 'nowrap',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                >\r\n                  <Row>\r\n                    <table>\r\n                      <tr>\r\n                        <td>Weight</td>\r\n                        <td>{userDetails ? userDetails.weight : 'N/A'}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td className='pe-3'>Blood Pressure</td>\r\n                        <td>{userDetails ? userDetails.bloodPressure : 'N/A'}</td>\r\n                      </tr>\r\n                    </table>\r\n                  </Row>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Index\r\n"],"names":["console","log","patient","useSelector","state","loggedInRoleUserData","userDetails","bpAndW","_useState","useState","_useState2","_slicedToArray","lastTwoVisits","setLastTwoVisits","dispatch","useDispatch","getLastTwoVisits","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","patientId","res","wrap","_context","prev","next","uniqueId","sent","axios","post","data","success","t0","stop","apply","arguments","getPatientWeightAndBloodPressure","_ref2","_callee2","_context2","count","setBPAndW","useEffect","_jsx","_Fragment","children","Container","Row","_jsxs","Card","title","className","length","map","idx","department","patientName","isChecked","Badge","bg","pill","Divider","gutter","Col","span","bordered","concat","vaccinated","style","height","cursor","Link","to","textDecoration","color","whiteSpace","fontSize","textWrap","overflow","weight","bloodPressure"],"sourceRoot":""}