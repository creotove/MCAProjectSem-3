"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[433],{79433:function(e,t,s){s.r(t);var l=s(74165),a=s(15861),n=s(29439),c=s(72791),r=s(78983),o=s(47022),i=s(89708),d=s(95313),m=s(89743),u=s(2677),h=s(16157),x=s(62591),p=s(31243),j=s(80226),Z=s(57689),f=s(80184),N=function(){var e=(0,c.useState)(!1),t=(0,n.Z)(e,2),s=t[0],N=t[1],g=(0,c.useState)(!1),b=(0,n.Z)(g,2),v=b[0],y=b[1],C=(0,c.useState)([]),w=(0,n.Z)(C,2),k=w[0],S=w[1],P=(0,c.useState)(""),_=(0,n.Z)(P,2),I=_[0],E=_[1],B=(0,c.useState)(""),D=(0,n.Z)(B,2),F=D[0],q=D[1],G=(0,c.useState)(""),L=(0,n.Z)(G,2),A=L[0],M=L[1],z=(0,c.useState)("Cash"),Q=(0,n.Z)(z,2),R=Q[0],U=Q[1],H=(0,c.useState)(""),T=(0,n.Z)(H,2),V=T[0],J=T[1],K=(0,c.useState)(""),O=(0,n.Z)(K,2),W=O[0],X=O[1],Y=(0,c.useState)(0),$=(0,n.Z)(Y,2),ee=$[0],te=$[1],se=(0,Z.s0)(),le=function(){var e=(0,a.Z)((0,l.Z)().mark((function e(t){var s,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),!1!==t.currentTarget.checkValidity()){e.next=8;break}return t.preventDefault(),t.stopPropagation(),y(!0),e.abrupt("return");case 8:return e.prev=8,s={patientId:V,patientName:I,doctorName:F,doctorId:W,department:A,fee:ee,paymentMode:R},e.next=12,p.Z.post("/api/v1/receptionist/addBill",s);case 12:a=e.sent,console.log("adding bill"),a.data.success?(console.log(a.data.data),j.ZP.success("Bill Added Successfully"),N(!1),q(""),M(""),J(""),E(""),te(0),U("Cash"),se("/receptionist")):j.ZP.error("Something went wrong"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),j.ZP.error("Could not add the bill"),console.log(e.t0);case 21:y(!1);case 22:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=(0,a.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.get("/api/v1/receptionist/patientForCheckUp");case 3:t=e.sent,console.log("fetching patient for checkup"),t.data.success?(console.log(t.data.data),S(t.data.data)):j.ZP.error("something went wrong"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),j.ZP.error("Could not find the Patient"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){ae()}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.Z,{fluid:!0,className:"d-flex justify-content-end",children:(0,f.jsxs)(i.Z,{size:"lg",show:s,onHide:function(){return N(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[(0,f.jsx)(i.Z.Header,{closeButton:!0,children:(0,f.jsxs)(i.Z.Title,{id:"example-modal-sizes-title-lg",children:["Add bill of ",(0,f.jsx)("span",{className:"text-success",children:I})]})}),(0,f.jsx)(i.Z.Body,{children:(0,f.jsx)("div",{className:"container justify-content-center d-flex mt-5 w-100 ",children:(0,f.jsxs)(d.Z,{noValidate:!0,validated:v,onSubmit:le,autoComplete:"off",children:[(0,f.jsxs)(m.Z,{className:"mb-3",children:[(0,f.jsxs)(d.Z.Group,{as:u.Z,className:"col-sm-12 col-lg-6 col-xs-12 col-md-6 col-12",controlId:"formName",children:[(0,f.jsx)(d.Z.Label,{children:"Name"}),(0,f.jsx)(d.Z.Control,{type:"text",placeholder:"Enter Name",required:!0,value:I,disabled:!0})]}),(0,f.jsxs)(d.Z.Group,{as:u.Z,className:"col-sm-12 col-lg-6 col-xs-12 col-md-6 col-12",controlId:"formName",children:[(0,f.jsx)(d.Z.Label,{children:"Patient Id"}),(0,f.jsx)(d.Z.Control,{type:"text",placeholder:"Enter Name",required:!0,value:V,disabled:!0})]})]}),(0,f.jsxs)(m.Z,{className:"mb-3",children:[(0,f.jsxs)(d.Z.Group,{as:u.Z,className:"col-sm-12 col-lg-6 col-xs-12 col-md-6 col-12",controlId:"formName",children:[(0,f.jsx)(d.Z.Label,{children:"Checked By"}),(0,f.jsx)(d.Z.Control,{type:"text",placeholder:"Enter Doctor Name",value:F,required:!0,disabled:!0})]}),(0,f.jsxs)(d.Z.Group,{as:u.Z,className:"col-sm-12 col-lg-6 col-xs-12 col-md-6 col-12",controlId:"formMobileNumber",children:[(0,f.jsx)(d.Z.Label,{children:"Department"}),(0,f.jsx)(d.Z.Control,{type:"text",placeholder:"Enter Department Name",required:!0,disabled:!0,value:A})]})]}),(0,f.jsxs)(m.Z,{className:"mb-3",children:[(0,f.jsxs)(d.Z.Group,{as:u.Z,className:"col-sm-12 col-lg-6 col-xs-12 col-md-6 col-12",controlId:"formMobileNumber",children:[(0,f.jsx)(d.Z.Label,{children:"Fee"}),(0,f.jsx)(d.Z.Control,{type:"number",placeholder:"Enter Patient Fee",onChange:function(e){te(e.target.value)},value:ee,required:!0})]}),(0,f.jsxs)(d.Z.Group,{as:u.Z,className:"col-sm-12 col-lg-6 col-xs-12 col-md-6 col-12",controlId:"formName",children:[(0,f.jsx)(d.Z.Label,{children:"Mode of Payment"}),(0,f.jsxs)(d.Z.Select,{"aria-label":"Mode of payment",onChange:function(e){U(e.target.value)},children:[(0,f.jsx)("option",{disabled:!0,children:"Choose"}),(0,f.jsx)("option",{value:"Cash",children:"Cash"}),(0,f.jsx)("option",{value:"UPI",children:"UPI"}),(0,f.jsx)("option",{value:"Card",children:"Card"})]})]})]}),(0,f.jsx)(h.Z,{variant:"primary",className:"col-3 col-sm-12 col-lg-3 col-xs-12 col-md-3 col-12 offset-md-9",type:"submit",children:"Submit"})]})})})]})}),(0,f.jsxs)(o.Z,{fluid:!0,className:"position-relative",children:[(0,f.jsxs)(m.Z,{className:"mb-3",children:[(0,f.jsx)(u.Z,{className:"col-12 col-sm-12 col-lg-8 col-md-12 ",children:(0,f.jsx)(o.Z,{className:"w-100  rounded-2 col-5",fluid:!0,children:(0,f.jsxs)(x.Z,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"text-center",children:"#"}),(0,f.jsx)("th",{className:"text-center",children:"Patient Name"}),(0,f.jsx)("th",{className:"text-center",children:"Department"}),(0,f.jsx)("th",{className:"text-center",children:"CheckedBy"}),(0,f.jsx)("th",{className:"text-center",children:"Action"})]})}),(0,f.jsx)("tbody",{children:k.length>0?k.map((function(e,t){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"text-center",children:t+1}),(0,f.jsx)("td",{className:"text-center",children:e.patientName}),(0,f.jsx)("td",{className:"text-center",children:e.department}),(0,f.jsxs)("td",{className:"text-center",children:["Dr. ",e.doctorName]}),(0,f.jsx)("td",{className:"text-center",children:(0,f.jsx)(r.u5,{onClick:function(){return function(e){N(!0),E(e.patientName),q(e.doctorName),M(e.department),J(e.patientId),X(e.doctorId)}(e)},color:"primary",className:"mb-3 ",children:"Add Bill"})})]},t)})):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{className:"text-center text-danger",colSpan:5,children:"No Patient Found"})})})]})})}),(0,f.jsx)(r.b7,{style:{position:"fixed",top:90,right:0,width:"25%"},className:"d-none d-sm-none d-md-none d-lg-block col-4",children:(0,f.jsx)(r.co,{className:"mb-4 h-100 d-md-flex justify-content-center align-items-center d-none",color:"info",value:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(m.Z,{className:"d-flex justify-content-center align-items-center ",style:{whiteSpace:"nowrap"},children:(0,f.jsx)(u.Z,{children:"QR Code"})}),(0,f.jsxs)(m.Z,{className:"d-flex justify-content-center align-items-center",children:[(0,f.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/QR_Code_Example.svg/1024px-QR_Code_Example.svg.png",alt:"qrcode",style:{filter:"invert(1)",width:"80%",height:"80%",objectFit:"contain"}}),"Scan And Pay"]})]})})})]})," "]})]})};t.default=c.memo(N)}}]);
//# sourceMappingURL=433.7b49d3fa.chunk.js.map