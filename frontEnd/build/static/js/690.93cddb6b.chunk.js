"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[690],{64690:function(e,t,a){a.r(t);var o=a(74165),r=a(15861),n=a(29439),s=a(72791),l=a(57689),c=a(43289),i=a(95313),d=a(31243),u=a(80226),m=a(59434),p=a(11007),f=a(80184);t.default=function(){var e=(0,s.useState)(""),t=(0,n.Z)(e,2),a=t[0],h=t[1],x=(0,s.useState)(""),g=(0,n.Z)(x,2),v=g[0],j=g[1],w=(0,s.useState)(!1),b=(0,n.Z)(w,2),Z=b[0],k=b[1],N=(0,m.I0)(),_=(0,l.s0)();if(localStorage.getItem("token"))return _("/");var C=function(){var e=(0,r.Z)((0,o.Z)().mark((function e(t){var r,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!1!==t.currentTarget.checkValidity()){e.next=7;break}return t.preventDefault(),t.stopPropagation(),k(!0),e.abrupt("return");case 7:return t.preventDefault(),t.stopPropagation(),r={uniqueId:a,password:v},e.next=12,d.Z.post("/api/v1/user/login",r);case 12:(n=e.sent).data.success?(localStorage.setItem("token",n.data.token),u.ZP.success("Login Successfully"),N((0,p.av)(n.data.data)),"admin"===n.data.data.role&&(_("/admin"),window.location.reload()),"doctor"===n.data.data.role&&(_("/doctor"),window.location.reload()),"receptionist"===n.data.data.role&&(_("/receptionist"),window.location.reload()),"patient"===n.data.data.role&&(_("/patient"),window.location.reload())):u.ZP.error(n.data.message),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),u.ZP.error("something went wrong");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("section",{className:"vh-100 d-flex align-items-center justify-content-center flex-column",children:(0,f.jsx)("div",{className:"container h-custom",children:(0,f.jsxs)("div",{className:"row d-flex justify-content-center align-items-center h-100 shadow-lg rounded py-5",children:[(0,f.jsx)("div",{className:"col-md-9 col-lg-6 col-xl-5",children:(0,f.jsx)("img",{src:c,className:"img-fluid",alt:""})}),(0,f.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:(0,f.jsxs)(i.Z,{noValidate:!0,validated:Z,onSubmit:C,autoComplete:"off",children:[(0,f.jsx)("div",{className:"form-outline mb-4",children:(0,f.jsxs)(i.Z.Group,{controlId:"validationCustom01",children:[(0,f.jsx)(i.Z.Label,{children:"Unique Id"}),(0,f.jsx)(i.Z.Control,{required:!0,type:"text",placeholder:"Unique Id",className:"form-control",value:a,onChange:function(e){return h(e.target.value)},name:"uniqueId"}),(0,f.jsx)(i.Z.Control.Feedback,{children:"Looks good!"})]})}),(0,f.jsx)("div",{className:"form-outline mb-3",children:(0,f.jsxs)(i.Z.Group,{controlId:"validationCustom01",children:[(0,f.jsx)(i.Z.Label,{children:"Password"}),(0,f.jsx)(i.Z.Control,{required:!0,type:"password",placeholder:"Password",className:"form-control",value:v,onChange:function(e){return j(e.target.value)},name:"password"}),(0,f.jsx)(i.Z.Control.Feedback,{children:"Looks good!"})]})}),(0,f.jsx)("div",{className:"text-center text-lg-start mt-4 pt-2",children:(0,f.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-4",children:"Login"})})]})})]})})})})}}}]);
//# sourceMappingURL=690.93cddb6b.chunk.js.map